<!DOCTYPE html>
<html>
    <head>
        <title>실습 11-7</title>
        <script>
            let cvs, ctx
            let dragging = false
            let startX, startY
            function init() {
                cvs = document.querySelector("canvas")
                ctx = cvs.getContext('2d')
                cvs.addEventListener("mousedown", function (e) {down(e)})
                cvs.addEventListener("mouseup", function (e) {up(e)})
                cvs.addEventListener("mousemove", function (e) {move(e)})
            }
            function down(e) {
                startX = e.offsetX
                startY = e.offsetY
                dragging = true
            }
            function move(e) {
                if(!dragging) { return }
                drawLine(e.offsetX, e.offsetY)
            }
            function up(e) {
                drawLine(e.offsetX, e.offsetY)
                dragging = false
            }
            function drawLine(x, y) {
                ctx.clearRect(0,0,cvs.width, cvs.height)
                ctx.beginPath()
                ctx.moveTo(startX, startY)
                ctx.lineTo(x,y)
                ctx.stroke()
            }
        </script>
    </head>
    <body onload="init()">
        <h3>mousedown과 mouseup으로 선 그리기</h3>
        <hr>
        <canvas id="myCanvas" width="400" height="300"
        style="background-color: aliceblue;"></canvas>
    </body>
</html>